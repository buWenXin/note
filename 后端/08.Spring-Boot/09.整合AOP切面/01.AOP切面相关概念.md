



### 1、什么是AOP面向切面编程

> 面向切面编程（方面），利用 AOP 可以对业务逻辑的各个部分进行隔离，从而使得 业务逻辑各部分之间的耦合度降低，提高程序的可重用性，同时提高了开发的效率。 通俗描述：*在不修改原代码的情况下，对原有的业务进行加强*
>
> *AOP面向切面编程是通过代理来实现的*

## 2、AOP的相关概念

>  要理解 Spring Boot 整合 `Aop` 的实现，就必须先对面向切面实现的一些 `Aop` 的概念有所了解，不然也是 云里雾里。
>

-  *切面（Aspect）*：一个关注点的模块化。以注解 @Aspect 的形式放在类上方，声明一个切面。 
-  *连接点（Joinpoint）*：在程序执行过程中某个特定的点，比如某方法调用的时候或者处理异常的时候 都可以是连接点。
-  *通知（Advice）*：通知增强，需要完成的工作叫做通知，就是你写的业务逻辑中需要比如事务、日志等 先定义好，然后需要的地方再去用。增强包括如下五个方面： 
  1. `@Before` ：在切点之前执行 
  2.  `@After` ：在切点方法之后执行 
  3.  `@AfterReturning` ：切点方法返回后执行 
  4.  `@AfterThrowing` ：切点方法抛异常执行 
  5.  `@Around` ：属于环绕增强，能控制切点执行前，执行后，用这个注解后，程序抛异常，会影响 @AfterThrowing 这个注解。



-  *切点（Pointcut）*：其实就是筛选出的连接点，匹配连接点的断言，一个类中的所有方法都是连接点， 但又不全需要，会筛选出某些作为连接点做为切点。
-  *引入（Introduction）*：在不改变一个现有类代码的情况下，为该类添加属性和方法,可以在无需修改 现有类的前提下，让它们具有新的行为和状态。其实就是把切面（也就是新方法属性：通知定义的）用 到目标类中去。
-  *目标对象（Target Object）*：被一个或者多个切面所通知的对象。也被称做被通知（ `adviced` ）对 象。既然 Spring AOP 是通过运行时代理实现的，这个对象永远是一个被代理（ proxied ）对象。 AOP代理（AOP Proxy）： AOP 框架创建的对象，用来实现切面契约（例如通知方法执行等等）。在 Spring 中， AOP 代理可以是 JDK 动态代理或者 CGLIB 代理。
-   *织入（Weaving）*：把切面连接到其它的应用程序类型或者对象上，并创建一个被通知的对象。这些可 以在编译时（例如使用 AspectJ 编译器），类加载时和运行时完成。 Spring 和其他纯 Java AOP 框架一 样，在运行时完成织入。

## 3、总结

- AOP概念
  - AOP 面向切面编程，在不修改原代码的情况下，对原有的业务进行加强
  - AOP编程，就是通过代理来对需要增强的方法，进行代理，在需要增强的方法调用之前或者调用后添加代码
- Spring中实现AOP
  - Spring中通过`AspectJ` 实现 AOP 操作
  - AspectJ实现AOP的步骤： 1、创建一个切面类   2、配置切入点  3、在通知中实现增强
  - 通知就是代理方法调用的钩子函数，方法调用前、后等等
- 原理：
  - 在目标方法执行的时候，*通过代理目标方法*，给目标方法添加通知方法。便于我们在目标方法前后异常等地方添加功能。