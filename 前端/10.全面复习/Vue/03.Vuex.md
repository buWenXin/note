#### Vuex

- 怎么使用Vuex?
  - 通过Vue的脚手架配置Vuex插件,如果在store中创建一个index文件,在index中导入Vuex和Vue实例,并通过Vue.use来注册Vuex,然后通过New Vue.store来创建Vuex实例,并将实例导出挂载到vue实例中使用
- Vuex的使用
  - 使用数据  通过this.$store.state来使用数据
  - 修改数据  在mutations中定义修改数据的事件,然后通过this.$store.commit来提交事件
- Vuex有哪些属性?
  - Vuex中五个属性
  - state
    - 数据仓库,在这里定义属性, 需要注意只要在state进行初始化的属性才会有响应式.
  - getters
    - 和Vue组件的计算属性一样,都是有缓存的,只有当它依赖的属性发生改变时,才会从新计算
    - 使用  可以通过属性的方式使用 也可以通过调用方法的方式去使用,使用方法的方式使用时,可以传入参数
    - 在组件中通过this.$store.getter来使用
  - mutations
    - 定义事件来对state中的数据进行修改,在这里只能执行同步任务
  - actives
    - 和mutation类型,不同的是,actives是提交mutations事件来修改数据而不是直接修改数据,并且active可以执行异步任务,而mutations只能执行同步任务
    - 并且在active中也可以返回一个promise对象,然后再提交事件后面跟着then来知道什么时候提交成功
    - 使用  actives中接受store来作为第一个参数,所有可以通过 store.commit来提交mutations事件
    - 在组件中 通过 this.$store.dispatch 来提交actives事件
  - gettets和mutations都接受state来作为第一次参数,而actives则接受store来作为第一个参数
  - 可以通过 ...扩展运算符来将 getters 中的 计算属性 或者 actives中的方法映射到组件中进行使用 getters映射到computed中,actives映射到methods中
  - Vuex在页面刷新后数据丢失问题
    - 由于Vuex中的数据是存储在内存中的, 当页面刷新时 Vuex中的数据就会丢人, 通过监听页面的刷新事件,在页面刷新前将Vuex中的数据转为JSON数据格式,并存储到sessionStorage中,
    - 当页面刷新完成后,从新请求Vuex中的数据,但是请求数据需要时间,所有可以先利用sessionStorage中的数据进行展示,等待数据请求成功后再进行更新
  - 修改Vuex中的值，在mutations中定于修改事件，然后通过提交事件来进行修改。