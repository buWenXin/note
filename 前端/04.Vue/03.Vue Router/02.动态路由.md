

## 动态路由

> 动态路由是指可以在路由路径后面携带参数，传递给路由。

配置动态路由：

​	通过`/:参数名称`的方式来配置动态路由，在路由跳转中携带参数。

```ts
const routes: RouteRecordRaw[] = [
    //配置路由映射
    {
        path: "/test/:id",
        component: Test
    }
];
```

跳转动态路由：注意：如果配置的是一个动态路由，如果不携带参数是跳转不过去的。

```ts
router.push("/test/222");
```

获取动态路由携带的参数：

​	通过`route.params.参数名称`获取路由参数。

```ts
const route = useRoute();
console.log(route.params.id);
```

**小结：**

-  使用 `/:参数名称`配置动态路由。
- 在跳转路由中携带参数
- 在跳转的组件上通过`route.params.参数名称`获取路由参数。

## 动态路由的限制

> 注意：当从 `/users/johnny` 导航到 `/users/jolyne` 时，**相同的组件实例将被重复使用**。因为两个路由都渲染同个组件，比起销毁再创建，复用则显得更加高效。**不过，这也意味着组件的生命周期钩子不会被调用**。



​	由于通过动态路由跳转到当前的组件上，是会复用当前的组件，不会触发生命周期函数，如果想要在路由变化的时候做出响应的话，可以使用`watch`来监听当前的路由对象。

```ts
//监听路由对象
watch(route, () => {
   console.log("路由变化了");
})
```

## 捕获所有路由或 404 Not found 路由

> 常规参数只匹配 url 片段之间的字符，用 `/` 分隔。如果我们想匹配**任意路径**，我们可以使用自定义的 *路径参数* 正则表达式，在 *路径参数* 后面的括号中加入 正则表达式 :语法：`/:参数(正则表达式)`

```ts
{
    path: "/:a(.*)", //  /:参数(正则表达式)
    name: 'NotFound',
    component: No404
}
```